library(readr)
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")

output <- read_csv("output.csv")
scheduled_releases <- data.frame(subset(output, !(is.na(PublishDate))))

grouped_scheduled_releases <- scheduled_releases %>% group_by(PublishDate) %>% summarise(Collections = n(), Type_dataset_Count=sum(Type_dataset_Count),Type_dataset_Words=sum(Type_dataset_Words),Type_dataset_Bytes=sum(Type_dataset_Bytes),Type_compendium_data_Count=sum(Type_compendium_data_Count),Type_compendium_data_Words=sum(Type_compendium_data_Words),Type_compendium_data_Bytes=sum(Type_compendium_data_Bytes),Type_article_download_Count=sum(Type_article_download_Count),Type_article_download_Words=sum(Type_article_download_Words),Type_article_download_Bytes=sum(Type_article_download_Bytes),Type__Count=sum(Type__Count),Type__Words=sum(Type__Words),Type__Bytes=sum(Type__Bytes),Type_static_methodology_Count=sum(Type_static_methodology_Count),Type_static_methodology_Words=sum(Type_static_methodology_Words),Type_static_methodology_Bytes=sum(Type_static_methodology_Bytes),Type_visualisation_Count=sum(Type_visualisation_Count),Type_visualisation_Words=sum(Type_visualisation_Words),Type_visualisation_Bytes=sum(Type_visualisation_Bytes),Type_product_page_Count=sum(Type_product_page_Count),Type_product_page_Words=sum(Type_product_page_Words),Type_product_page_Bytes=sum(Type_product_page_Bytes),Type_bulletin_Count=sum(Type_bulletin_Count),Type_bulletin_Words=sum(Type_bulletin_Words),Type_bulletin_Bytes=sum(Type_bulletin_Bytes),Type_compendium_landing_page_Count=sum(Type_compendium_landing_page_Count),Type_compendium_landing_page_Words=sum(Type_compendium_landing_page_Words),Type_compendium_landing_page_Bytes=sum(Type_compendium_landing_page_Bytes),Type_article_Count=sum(Type_article_Count),Type_article_Words=sum(Type_article_Words),Type_article_Bytes=sum(Type_article_Bytes),Type_timeseries_Count=sum(Type_timeseries_Count),Type_timeseries_Words=sum(Type_timeseries_Words),Type_timeseries_Bytes=sum(Type_timeseries_Bytes),Type_dataset_landing_page_Count=sum(Type_dataset_landing_page_Count),Type_dataset_landing_page_Words=sum(Type_dataset_landing_page_Words),Type_dataset_landing_page_Bytes=sum(Type_dataset_landing_page_Bytes),Type_static_page_Count=sum(Type_static_page_Count),Type_static_page_Words=sum(Type_static_page_Words),Type_static_page_Bytes=sum(Type_static_page_Bytes),Type_taxonomy_landing_page_Count=sum(Type_taxonomy_landing_page_Count),Type_taxonomy_landing_page_Words=sum(Type_taxonomy_landing_page_Words)
,Type_taxonomy_landing_page_Bytes=sum(Type_taxonomy_landing_page_Bytes),Type_timeseries_dataset_Count=sum(Type_timeseries_dataset_Count),Type_timeseries_dataset_Words=sum(Type_timeseries_dataset_Words),Type_timeseries_dataset_Bytes=sum(Type_timeseries_dataset_Bytes),Type_static_landing_page_Count=sum(Type_static_landing_page_Count),Type_static_landing_page_Words=sum(Type_static_landing_page_Words),Type_static_landing_page_Bytes=sum(Type_static_landing_page_Bytes),Type_static_methodology_download_Count=sum(Type_static_methodology_download_Count),Type_static_methodology_download_Words=sum(Type_static_methodology_download_Words),Type_static_methodology_download_Bytes=sum(Type_static_methodology_download_Bytes),Type_home_page_Count=sum(Type_home_page_Count),Type_home_page_Words=sum(Type_home_page_Words),Type_home_page_Bytes=sum(Type_home_page_Bytes),Type_static_qmi_Count=sum(Type_static_qmi_Count),Type_static_qmi_Words=sum(Type_static_qmi_Words),Type_static_qmi_Bytes=sum(Type_static_qmi_Bytes),Type_compendium_chapter_Count=sum(Type_compendium_chapter_Count),Type_compendium_chapter_Words=sum(Type_compendium_chapter_Words),Type_compendium_chapter_Bytes=sum(Type_compendium_chapter_Bytes),Type_static_foi_Count=sum(Type_static_foi_Count),Type_static_foi_Words=sum(Type_static_foi_Words),Type_static_foi_Bytes=sum(Type_static_foi_Bytes),Type_reference_tables_Count=sum(Type_reference_tables_Count),Type_reference_tables_Words=sum(Type_reference_tables_Words),Type_reference_tables_Bytes=sum(Type_reference_tables_Bytes),Type_static_article_Count=sum(Type_static_article_Count),Type_static_article_Words=sum(Type_static_article_Words),Type_static_article_Bytes=sum(Type_static_article_Bytes),Type_release_Count=sum(Type_release_Count),Type_release_Words=sum(Type_release_Words),Type_release_Bytes=sum(Type_release_Bytes),Type_static_adhoc_Count=sum(Type_static_adhoc_Count),Type_static_adhoc_Words=sum(Type_static_adhoc_Words),Type_static_adhoc_Bytes=sum(Type_static_adhoc_Bytes),Type_home_page_census_Count=sum(Type_home_page_census_Count),Type_home_page_census_Words=sum(Type_home_page_census_Words),Type_home_page_census_Bytes=sum(Type_home_page_census_Bytes))

grouped_scheduled_releases$PublishDate <- strptime(test_dataset$PublishDate, "%Y-%m-%d %H:%M:%S")
grouped_scheduled_releases_since_launch <- subset(grouped_scheduled_releases, grouped_scheduled_releases$PublishDate > strptime("2016-02-25", "%Y-%m-%d"))
